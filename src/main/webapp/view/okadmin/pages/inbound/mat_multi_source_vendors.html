<div data-controller="inbound--mat-multi-source-vendors">
    <div id="byVendors" hidden data-params="#escape(dataStr)"></div>
    <div id="byVendorsChart" style="height: 400px"></div>
    <table class="table is-striped is-narrow is-hoverable is-fullwidth is-size-7">
        <colgroup>
            <col width="5%">
            <col width="10%">
            <col width="10%">
            <col width="20%">
            <col width="10%">
            <col width="10%">
        </colgroup>
        <thead>
        <tr>
            <th style="text-align: center">#</th>
            <th style="text-align: center">料号</th>
            <th style="text-align: center">供应商</th>
            <th style="text-align: center">名称</th>
            <th style="text-align: center">总金额</th>
            <th style="text-align: center">数量</th>
            <th style="text-align: center">单位成本</th>
        </tr>
        </thead>
        <tbody>
        #for(x : items)
        <tr>
            <td style="text-align: center">#(for.index + 1)</td>
            <td>#(x.matCode)</td>
            <td>#(x.vendorCode)</td>
            <td>#(x.vendorName)</td>
            <td style="text-align: right">#number(x.totalAmt, ",###.00")</td>
            <td style="text-align: right">#number(x.totalQty, ",###")</td>
            <td style="text-align: right">#number(x.unitPrice, ",###.00")
            </td>
        </tr>
        #end
        </tbody>
    </table>

    <table class="table is-striped is-narrow is-hoverable is-fullwidth is-size-7">
        <colgroup>
            <col width="5%">
            <col width="10%">
            <col width="10%">
            <col width="20%">
            <col width="10%">
            <col width="10%">
        </colgroup>
        <thead>
        <tr>
            <th style="text-align: center">#</th>
            <th style="text-align: center">料号</th>
            <th style="text-align: center">工厂</th>
            <th style="text-align: center">总金额</th>
            <th style="text-align: center">数量</th>
            <th style="text-align: center">单位成本</th>
        </tr>
        </thead>
        <tbody>
        #for(x : ibPlants)
        <tr>
            <td style="text-align: center">#(for.index + 1)</td>
            <td>#(x.matCode)</td>
            <td><a data-action="click->inbound--mat-multi-source#drilldown"
                   data-key="plantItemsID"
                   data-href="/pages/inbound/matMultiSourceIBItemsByPlant?p=#(x.toPlant)&m=#(x.matCode)">
                #(x.toPlant)</a></td>
            <td style="text-align: right">#number(x.totalAmt, ",###.00")</td>
            <td style="text-align: right">#number(x.totalQty, ",###")</td>
            <td style="text-align: right">#number(x.unitPrice, ",###.00")
            </td>
        </tr>
        #end
        </tbody>
    </table>

    <table class="table is-striped is-narrow is-hoverable is-fullwidth is-size-7">
        <colgroup>
            <col width="5%">
            <col width="10%">
            <col width="10%">
            <col width="20%">
            <col width="10%">
            <col width="10%">
        </colgroup>
        <thead>
        <tr>
            <th style="text-align: center">#</th>
            <th style="text-align: center">料号</th>
            <th style="text-align: center">BOM</th>
            <th style="text-align: center">项目</th>
            <th style="text-align: center">客户</th>
            <th style="text-align: center">工厂</th>
        </tr>
        </thead>
        <tbody>
        #for(x : ibBoms)
        <tr>
            <td style="text-align: center">#(for.index + 1)</td>
            <td class="has-text-centered">#(x.matCode)</td>
            <td class="has-text-centered">#(x.bomID)</td>
            <td class="has-text-centered">#(x.project)</td>
            <td class="has-text-centered">#(x.client)</td>
            <td class="has-text-centered">#(x.plant)</td>
        </tr>
        #end
        </tbody>
    </table>

    <table class="table is-striped is-narrow is-hoverable is-fullwidth is-size-7">
        <colgroup>
            <col width="5%">
            <col width="10%">
            <col width="10%">
            <col width="10%">
            <col width="20%">
            <col width="10%">
            <col width="10%">
            <col width="10%">
            <col width="10%">
        </colgroup>
        <thead>
        <tr>
            <th style="text-align: center">#</th>
            <th style="text-align: center">订单号</th>
            <th style="text-align: center">工厂</th>
            <th style="text-align: center">供应商</th>
            <th style="text-align: center">名称</th>
            <th style="text-align: center">入库日期</th>
            <th style="text-align: center">入库单号</th>
            <th style="text-align: center">入库金额</th>
            <th style="text-align: center">入库数量</th>
            <th style="text-align: center">单价</th>
        </tr>
        </thead>
        <tbody>
        #for(x : ibItems)
        <tr>
            <td style="text-align: center">#(for.index + 1)</td>
            <td>#(x.orderNum)</td>
            <td>#(x.toPlant)</td>
            <td>#(x.vendorCode)</td>
            <td>#(x.vendorName)</td>
            <td>#(x.ibDate)</td>
            <td>#(x.ibOrderNum)</td>
            <td style="text-align: right">#number(x.totalAmt, ",###.00")</td>
            <td style="text-align: right">#number(x.totalQty, ",###")</td>
            <td style="text-align: right">#number(x.unitPrice, ",###.00")</td>
        </tr>
        #end
        </tbody>
    </table>
</div>

